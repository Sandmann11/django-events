{% extends 'events/main.html' %}
{% load static %}
{% block title %}{{ event.name }} Details{% endblock %}

{% block content %}    

    <div class="card mt-4 mb-2">

        <div class="card-header py-2 d-flex justify-content-between">
            
            <div>
                <h1 class="card-title fs-2 my-0 lh-sm">{{ event.name }}</h1>
                <!-- <p class="my-0 fw-light"><small><em>{{ event.start_date }}</em></small></p> -->
            </div>

            <div>
                <ul class="nav nav-tabs card-header-pills">
                    <li class="nav-item">
                        <a class="nav-link active fw-bold" data-bs-toggle="tab" href="#details">Details</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#lineup">Lineup</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#venue">Venue</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#tickets">Tickets</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>           

        </div>

        <div class="card-body">

            <div id="myTabContent" class="tab-content">

                <div class="tab-pane fade show active" id="details">
                    <p>{{ event.description }}</p>
                </div>
        
                <div class="tab-pane fade" id="lineup">
                    {% for artist in event.lineup.all %}
                        <ul class="lh-base">
                            <li><a href="{% url 'artist_details' artist.pk %}"><strong>{{ artist.name }}</strong></a> ({{ artist.country }})</li>
                        </ul>
                    {% endfor %}
                </div>
        
                <div class="tab-pane fade" id="venue">
                    <p><a href="{% url 'venue_details' event.venue.pk %}">{{ event.venue.name }}</a></p>
                    <p>{{ event.venue.city }}, {{ event.venue.country }}</p>
                </div>  
        
                <div class="tab-pane fade" id="tickets">
                    <a href="{{ event.tickets }}" taget="_blank">Get Tickets for {{ event.name }}</a>
                </div>   
        
                <div class="tab-pane fade" id="contact">
                    <ul class="lh-lg">
                        <li><strong>Organizer: </strong>{{ event.organizer }}</li>
                        <li><strong>Email: </strong>{{ event.email }}</li>
                        <li><strong>Website: </strong><a href="{{ event.social_media }}">{{ event.social_media }}</a></li>
                    </ul>
                </div>

            </div>
        </div>

        {% if user.is_authenticated %}

        <div class="card-footer d-flex justify-content-between">
            <div class="my-1">
                <a href="{% url 'event_list' %}" class="btn btn-sm btn-outline-secondary px-2 text-muted">Back</a>
            </div>
            <div class="btn-group my-1">
                <a href="{% url 'event_update' event.pk %}" class="btn btn-sm btn-outline-secondary text-muted">Edit Event Details</a>
                <a href="{% url 'event_delete' event.pk %}" class="btn btn-sm btn-outline-secondary text-muted">Delete Event</a>
            </div>          
        </div>

        {% else %} 

        <div class="card-footer d-flex justify-content-between">
            <div class="my-1">
                <a href="{% url 'event_list' %}" class="btn btn-sm btn-outline-secondary px-2 text-muted">Back</a>
            </div>
            <div>                        
            </div>
        </div>

        {% endif %}         

    </div>
    
{% endblock content %}